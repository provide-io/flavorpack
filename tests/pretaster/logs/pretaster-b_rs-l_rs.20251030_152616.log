ğŸ¦€ğŸ¦€ ğŸ“¦ Building with Rs Builder + Rs Launcher
ğŸ¦€ğŸ¦€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€ ğŸ“ Logging to: logs/pretaster-b_rs-l_rs.20251030_152616.log
{
  "name": "pretaster-combination",
  "version": "1.0.0",
  "description": "Simple test for builder/launcher combinations",
  "command": "/usr/bin/python3 {workenv}/scripts/combo_test.py",
  "environment": {},
  "package": {
    "name": "pretaster-combination",
    "version": "1.0.0",
    "description": "Simple test for builder/launcher combinations"
  },
  "format": "PSPF/2025",
  "slots": [
    {
      "slot": 0,
      "purpose": "payload",
      "lifecycle": "cached",
      "operations": "raw",
      "id": "combo-test-py",
      "source": "scripts/combo_test.py",
      "target": "scripts/combo_test.py",
      "permissions": "0755"
    }
  ],
  "execution": {
    "command": "/usr/bin/python3 {workenv}/scripts/combo_test.py",
    "args": [],
    "env": {},
    "primary_slot": 0
  }
}ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder] ğŸ¦€ğŸ¦€ğŸ¦€ Hello from Flavor's Rust Builder ğŸ¦€ğŸ¦€ğŸ¦€
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder] PSPF Rust Builder starting...
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder] ğŸ”¨ Building PSPF/2025 package from: "configs/test-combination.json"
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder] ğŸ” Build options: BuildOptions { launcher_bin: Some("/Users/tim/code/gh/provide-io/flavorpack/dist/bin/flavor-rs-launcher-darwin_arm64"), skip_verification: false, private_key_path: None, public_key_path: None, key_seed: Some("test123"), workenv_base: None }
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder] âœ… Manifest parsed in 21.75Âµs
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder] ğŸ“„ Created output file: "dist/pretaster-rs-rs.psp"
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder] ğŸš€ Loading launcher: /Users/tim/code/gh/provide-io/flavorpack/dist/bin/flavor-rs-launcher-darwin_arm64
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder] ğŸ” Launcher version: flavor-rs-launcher 0.3.0
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder] ğŸš€ Loaded launcher: 1052080 bytes in 4.019083ms
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder] âœï¸ Wrote launcher in 87.875Âµs
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::keys] ğŸ”‘ Using seed-based key generation
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::keys] ğŸ”‘ Using seed-based key generation: seed_hash=6db8da2e476f5655
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder] ğŸ“¦ Creating PSPF/2025 index structure
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder] ğŸ“ Data section starts at 0x102db0 (after launcher 0x100db0 + index 512)
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::slot_processor] ğŸ° Processing 1 slots
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::slot_processor] ğŸ“– Processing slot 0: scripts/combo_test.py
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::slot_processor] ğŸ“ Slot path has no {workenv}: scripts/combo_test.py
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::slot_processor] Attempting to open slot file at: "scripts/combo_test.py"
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::slot_processor] ğŸ“Š Slot 0 size: 4484 bytes
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::slot_processor] â˜‘ï¸ Checksums calculated in 542.334Âµs
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::slot_processor] Slot 0: SHA256 checksum: sha256:090d0b40f976e3061c161285f8b2d374b67142142efed776935618721317e853
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::slot_processor] Slot 0: SHA256 u64 (first 8 bytes): 06e376f9400b0d09
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::operations] ğŸ“¦ Packing operations: count=0 operations=[]
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::operations] âœ… Operations packed: result=0
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::slot_processor] ğŸ“ Slot 0: combo-test-py size 4484 bytes, checksum 06e376f9400b0d09
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::slot_processor] âœ… Processed 1 slots in 692.625Âµs
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::metadata] ğŸ“ Creating and signing metadata
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“ Writing metadata at position 0x102db0
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“ Wrote metadata: start=0x102db0, size=687, end=0x10305f
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“ Current position after metadata: 0x10305f
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“ Aligned descriptor table offset: 0x103060 (aligned from 0x10305f)
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::finalization] ğŸ” Setting descriptor_offset to 0x103060 for 1 descriptors
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“Š Reserved 64 bytes for 1 descriptors at offset 0x103060
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::finalization] ğŸ“¦ Streaming slot data to output
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“ Wrote slot 0: offset=0x1030a0, size=4484 bytes
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::slots] ğŸ¦€ Packing checksum: value=06e376f9400b0d09, bytes=[09, 0d, 0b, 40, f9, 76, e3, 06]
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::finalization] âœï¸ Wrote 64-byte descriptor for slot 0
ğŸ¦€ [2025-10-30T15:26:16Z DEBUG flavor::psp::format_2025::builder::finalization] ğŸ“‹ Wrote 1 descriptors at offset 0x103060
ğŸ¦€ [2025-10-30T15:26:16Z TRACE flavor::psp::format_2025::builder::finalization] ğŸ¬ Finalizing package with MagicTrailer
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::finalization] âœ… Successfully built PSPF bundle: "dist/pretaster-rs-rs.psp"
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::finalization]   Package: pretaster-combination v1.0.0
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::finalization]   Launcher: /Users/tim/code/gh/provide-io/flavorpack/dist/bin/flavor-rs-launcher-darwin_arm64
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::finalization]   Slots: 1
ğŸ¦€ [2025-10-30T15:26:16Z INFO flavor::psp::format_2025::builder::finalization]   Size: 1073708 bytes
ğŸ¦€ğŸ¦€   âœ… Build successful: dist/pretaster-rs-rs.psp
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   Testing commands:
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   1ï¸âƒ£ Testing 'info' command:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€     [1/1] Extracting combo-test-py...
ğŸ¦€ğŸ¦€       Package: pretaster-combination
ğŸ¦€ğŸ¦€       Version: 1.0.0
ğŸ¦€ğŸ¦€       Python: /Applications/Xcode.app/Contents/Developer/usr/bin/python3
ğŸ¦€ğŸ¦€       Workenv: /Users/tim/.cache/flavor/workenv/pretaster-rs-rs
ğŸ¦€ğŸ¦€   âœ… info test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   2ï¸âƒ£ Testing 'env' command:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€       CLAUDECODE=1
ğŸ¦€ğŸ¦€       CLAUDE_CODE_ENTRYPOINT=cli
ğŸ¦€ğŸ¦€       COMMAND_MODE=unix2003
ğŸ¦€ğŸ¦€       COREPACK_ENABLE_AUTO_PIN=0
ğŸ¦€ğŸ¦€       CPATH=/usr/local/include
ğŸ¦€ğŸ¦€       DISPLAY=/private/tmp/com.apple.launchd.KDFYLKZyTx/org.xqua
ğŸ¦€ğŸ¦€       FLAVOR_CACHE=/Users/tim/.cache/flavor/workenv
ğŸ¦€ğŸ¦€       FLAVOR_COMMAND_NAME=pretaster-rs-rs.psp
ğŸ¦€ğŸ¦€       FLAVOR_LOG_LEVEL=error
ğŸ¦€ğŸ¦€       FLAVOR_ORIGINAL_COMMAND=/Users/tim/code/gh/provide-io/flavorpack/tests/pre
ğŸ¦€ğŸ¦€   âœ… env test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   3ï¸âƒ£ Testing 'argv' with arguments:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€     ğŸ“ Arguments received:
ğŸ¦€ğŸ¦€       [0]: arg1
ğŸ¦€ğŸ¦€       [1]: arg2
ğŸ¦€ğŸ¦€       [2]: 'arg
ğŸ¦€ğŸ¦€       [3]: with
ğŸ¦€ğŸ¦€       [4]: spaces'
ğŸ¦€ğŸ¦€   âœ… argv test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   4ï¸âƒ£ Testing 'echo' command:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€     Hello from Rs builder and Rs launcher!
ğŸ¦€ğŸ¦€   âœ… echo test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   5ï¸âƒ£ Testing 'file' command:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€   âœ… file test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   6ï¸âƒ£ Testing 'exit' with code 0:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€     ğŸšª Exiting with code 0
ğŸ¦€ğŸ¦€   âœ… exit test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€   7ï¸âƒ£ Testing 'exit' command with code 42:
ğŸ¦€ğŸ¦€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¦€ğŸ¦€     ğŸšª Exiting with code 42
ğŸ¦€ğŸ¦€     [0;32mâœ… Got expected exit code: 42[0m
ğŸ¦€ğŸ¦€   âœ… exit 42 test passed
ğŸ¦€ğŸ¦€
ğŸ¦€ğŸ¦€ âœ¨ Completed testing Rs + Rs combination
ğŸ¦€ğŸ¦€ ğŸ“„ Full log saved to: logs/pretaster-b_rs-l_rs.20251030_152616.log
